generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  // url      = env("DATABASE_URL")
  url = "postgres://avnadmin:AVNS_pdimSNnwtFMdmd6G6Oc@leave-management-service-db-leave-management-system.a.aivencloud.com:10332/defaultdb?sslmode=require"
}

model User {
  id        Int     @id @default(autoincrement())
  username  String  @unique
  password  String
  firstName String
  lastName  String
  role      Role
  casualLeave  Int  @default(12)
  earnedLeave Int   @default(15)
  medicalLeave Int  @default(10)
  academicLeave Int  @default(15)
}


model Record {
  id Int @id @default(autoincrement())
  username String 
  name String @unique
  stage stage
  type leaveType
  from DateTime
  to DateTime
  status status 
  reqMessage String @default("applied for leave")
  rejMessage String @default("awaiting confimation")
}
enum status {
  awaiting
  accepted
  rejected
}

enum stage {
 FACULTY
 HOD
 DIRECTOR
}
enum leaveType {
  causual
  earned
  medical
  academic
}



enum Role {
 FACULTY
 HOD
 DIRECTOR
}